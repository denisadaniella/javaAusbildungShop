create table address (id integer generated by default as identity, city varchar(255) not null, country varchar(255) not null, county varchar(255), street varchar(255), primary key (id));
create table customer (id integer generated by default as identity, firstname varchar(255), lastname varchar(255), username varchar(255) not null, primary key (id));
create table location (id integer generated by default as identity, name varchar(255) not null, addressid integer not null, primary key (id));
create table orderdetail (id integer generated by default as identity, quantity integer not null, orderid integer not null, productid integer not null, primary key (id));
create table orders (id integer generated by default as identity, addressid integer not null, customerid integer not null, locationid integer not null, primary key (id));
create table product (id integer generated by default as identity, description varchar(255), name varchar(255) not null, price decimal(19,2) not null, weight double, productcategoryid integer not null, supplierid integer not null, primary key (id));
create table productcategory (id integer generated by default as identity, description varchar(255), name varchar(255) not null, primary key (id));
create table stock (id integer generated by default as identity, quantity integer not null, locationid integer not null, productid integer not null, primary key (id));
create table supplier (id integer generated by default as identity, name varchar(255) not null, primary key (id));
alter table customer add constraint UKirnrrncatp2fvw52vp45j7rlw unique (username);
alter table location add constraint UKsahixf1v7f7xns19cbg12d946 unique (name);
alter table orderdetail add constraint UK76em55245n5o3xl4o35uvftel unique (orderid, productid);
alter table productcategory add constraint UKbcs1cbm8toqqwsx93k6yue7g7 unique (name);
alter table stock add constraint UK22wradr2plljuqco1oc7edh56 unique (productid, locationid);
alter table supplier add constraint UKc3fclhmodftxk4d0judiafwi3 unique (name);
alter table location add constraint FKaea0xyfx1avu4v8cyoih70a39 foreign key (addressid) references address;
alter table orderdetail add constraint FKgcotbta7ruggbobqttkev2cr5 foreign key (orderid) references orders;
alter table orderdetail add constraint FKnj3aqevednxylkji40nl3kb61 foreign key (productid) references product;
alter table orders add constraint FK374v3um7x9a9lksewo5g4y2jh foreign key (addressid) references address;
alter table orders add constraint FKbhieamq65ke02r8ijfso5tivn foreign key (customerid) references customer;
alter table orders add constraint FK8lxxd72k7qoyxm789t1vyrog6 foreign key (locationid) references location;
alter table product add constraint FKiftdr9abe87vwxdtu3woio4y3 foreign key (productcategoryid) references productcategory;
alter table product add constraint FKl22gu83pf6q9mbke1ln8wjbhx foreign key (supplierid) references supplier;
alter table stock add constraint FK3ow4ohmkk2n4kqd75fl4a0l6w foreign key (locationid) references location;
alter table stock add constraint FKh1j7vrej0aetb0j2fa3fp9pel foreign key (productid) references product;
